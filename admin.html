<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Admin Pagina</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    button {
      margin-left: 10px;
      padding: 6px 12px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background-color: #007bff;
      color: white;
    }
    button:hover {
      background-color: #0056b3;
    }
    .player-row {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    .player-row span {
      flex: 1;
    }
    .player-row button {
      margin-right: 5px;
    }
    /* Login overlay */
    #login-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #login-box {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      width: 300px;
      text-align: center;
    }
    #login-box input {
      width: 90%;
      padding: 6px;
      margin: 8px 0;
    }
    #error {
      color: red;
      font-size: 0.9em;
      display: none;
    }
  </style>
</head>
<body>

<!-- Login pop-up -->
<div id="login-overlay">
  <div id="login-box">
    <h3>Inloggen</h3>
    <input type="text" id="username" placeholder="Gebruikersnaam"><br>
    <input type="password" id="password" placeholder="Wachtwoord"><br>
    <button onclick="checkLogin()">Inloggen</button>
    <p id="error">Ongeldige gebruikersnaam of wachtwoord</p>
  </div>
</div>

<!-- Admin panel (hidden until login) -->
<div id="admin-panel" style="display:none;">
  <header>
    <h2>Beheerpagina</h2>
    <div>
      <button onclick="window.location.href='index.html'">Bekijk Statistieken</button>
      <button onclick="logout()">Uitloggen</button>
    </div>
  </header>

  <section>
    <h3>Wedstrijd registreren</h3>
    <div id="players"></div>
  </section>
</div>

<script>
  // Geldige login (SHA256 hash van 'wuste')
  const validUser = "admin";
  const validPassHash = "a96f67a2812dcd84f69aa31c3e315b92c9cba54d0b7fb9e8ff34480d598cc4b7"; 

  async function sha256(str) {
    const buf = new TextEncoder().encode(str);
    const hashBuffer = await crypto.subtle.digest("SHA-256", buf);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
  }

  async function checkLogin() {
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;
    const passHash = await sha256(pass);

    if (user === validUser && passHash === validPassHash) {
      document.getElementById("login-overlay").style.display = "none";
      document.getElementById("admin-panel").style.display = "block";
    } else {
      document.getElementById("error").style.display = "block";
    }
  }

  function logout() {
    document.getElementById("admin-panel").style.display = "none";
    document.getElementById("login-overlay").style.display = "flex";
    document.getElementById("username").value = "";
    document.getElementById("password").value = "";
  }

  // Dummy spelerslijst
  const players = ["Speler 1", "Speler 2", "Speler 3", "Speler 4"];
  const playerDiv = document.getElementById("players");

  players.forEach(p => {
    const row = document.createElement("div");
    row.className = "player-row";

    const name = document.createElement("span");
    name.textContent = p;
    row.appendChild(name);

    ["Afwezig", "Aanwezig", "Uitstappen"].forEach(label => {
      const btn = document.createElement("button");
      btn.textContent = label;
      row.appendChild(btn);
    });

    playerDiv.appendChild(row);
  });
</script>

</body>
</html>
